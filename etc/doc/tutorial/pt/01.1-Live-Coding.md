1.1 Live Coding

# Programar em tempo Real

Um dos aspectos mais emocionantes do Sonic Pi é que podes escrever e *modificar o código em tempo real* para fazer música, tal como podes tocar numa guitarra ao vivo. Isto significa que após alguma prática podes levar o Sonic Pi para o palco e tocar.

## Liberta a tua Mente

Antes de entrarmos em detalhes de como o Sonic Pi funciona no resto deste tutorial, queria dar-te uma ideia de como é programar em tempo real. Não te preocupes se não perceberes muito (ou nada) disto. Tenta só segurar-te à cadeira e aproveita...

## Um *Live Loop*

Vamos começar, copia o código seguinte para um *buffer* (janela) vazio:

```
live_loop :flibble do
  sample :bd_haus, rate: 1
  sleep 0.5
end
```

Agora, carrega no botão `Run` e vais ouvir uma boa e rápida batida de bombo. Se a qualquer momento quiseres parar o som basta carregar no botão `Stop`. Mas não carregues para já... Em vez disso, segue estes passos:

1. Certifica-te de que o som do bombo ainda está a tocar.
2. Muda o valor do `sleep` de `0,5` para algo maior, como `1`.
3. Carrega no botão `Run` outra vez.
4. Nota como a velocidade do bombo mudou.
5. Por fim, *lembra-te deste momento*, esta foi a primeira vez que programas-te ao vivo com o Sonic Pi e é provável que não será a última.

Ok, isso foi simples. Vamos adicionar algo à mistura. Acima de `sample :bd_haus` adiciona a linha `sample :ambi_choir, rate: 0.3`. O teu código deve estar algo parecido com o seguinte:


```
live_loop :flibble do
  sample :ambi_choir, rate: 0.3
  sample :bd_haus, rate: 1
  sleep 1
end
```

Agora brinca à vontade. Muda as *rates* -- que acontece se usares valores altos, baixos ou negativos? Vê o que acontece se mudares o valor `rate:` do `:ambi_choir` ligeiramente (como 0.29). Que acontece se usares um valor muito baixo para `sleep`? Vê se consegues levá-lo tão rápido que o computador pára com um erro porque não consegue manter o passo (se isso acontecer, basta escolher um valor maior para `sleep` e carregar em `Run` outra vez).

Experimenta comentar uma das linhas `sample` ao adicionar um `#` no início:

```
live_loop :flibble do
  sample :ambi_choir, rate: 0.3
#  sample :bd_haus, rate: 1
  sleep 1
end

```

Nota como o computador ignora aquela linha, e por isso não a ouvimos. A isto chama-se um comentário. No Sonic Pi podemos usar comentários para adicionar ou remover coisas da música.

Finalmente, vou deixar-te uma coisa para brincar. Copia o código abaixo para um *buffer* vazio. Não tentes demasiado compreendê-lo, além de ver que existem dois *loops* (ciclos) -- duas coisas a tocar ao mesmo tempo. Agora, faz o que fazes melhor -- experimenta e brinca. Aqui estão algumas sugestões:

* Experimenta mudar os valores do `rate` azul e ouvir o som a mudar.
* Experimenta mudar o valor do `sleep` e nota que os *loops* tocam a velocidades diferentes
* Experimenta remover o comentário da linha `sample` (remover o `#`) e desfruta do som da guitarra tocado ao contrário.
* Experimenta mudar um dos valores de `mix:` para números entre `0` (não entra na música) e `1` (entra na música, efeito completo).


Lembra-te de carregar em `Run` e ouvirás as mudanças da próxima vez que o *loop* tocar. Se ficares com o código estragado, não te preocupes -- carrega em `Stop`, apaga o código e cola uma cópia nova e estás de volta à ação. É a errar que vais aprender mais rápido...


```
live_loop :guit do
  with_fx :echo, mix: 0.3, phase: 0.25 do
    sample :guit_em9, rate: 0.5
  end
#  sample :guit_em9, rate: -0.5
  sleep 8
end

live_loop :boom do
  with_fx :reverb, room: 1 do
    sample :bd_boom, amp: 10, rate: 1
  end
  sleep 8
end
```

Agora, continua a tocar e experimentar até a tua curiosidade sobre como tudo isto funciona entrar em cena e começares a questionar que mais podes fazer no Sonic Pi. Estás pronto para ler o resto do tutorial.

Então de que estás a espera...
